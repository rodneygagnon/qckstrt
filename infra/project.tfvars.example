# =============================================================================
# QCKSTRT Infrastructure Variables
# =============================================================================
# Copy this file to terraform.tfvars and fill in your values
#
# Target specs: 10-50k users, 100-500 concurrent requests, 1M AI queries/month
# Estimated cost: ~$500-800/month
# =============================================================================

# AWS Configuration
aws_profile = "default"
aws_region  = "us-east-1"

# Project Configuration
project = "qckstrt"
stage   = "dev"  # dev, staging, prod

# SSH Key (must exist in AWS EC2 Key Pairs)
# Create one with: aws ec2 create-key-pair --key-name qckstrt-key --query 'KeyMaterial' --output text > qckstrt-key.pem
ssh_key_name = "qckstrt-key"

# Security - REQUIRED: Set to your IP address
# Find your IP: curl -s https://ifconfig.me
# Format: "YOUR_IP/32" (e.g., "203.0.113.50/32")
allowed_ssh_cidr = "REPLACE_WITH_YOUR_IP/32"  # <-- You MUST change this!

# =============================================================================
# Instance Configuration
# =============================================================================

# Application Server (runs Supabase, your apps, Redis, ChromaDB)
# t3.xlarge: 4 vCPU, 16GB RAM - good for 100-500 concurrent users
app_server_instance_type = "t3.xlarge"
app_server_volume_size   = 200  # GB - for PostgreSQL, storage, logs

# GPU Server (runs vLLM, Embeddings)
# g5.xlarge: 1 GPU (A10G 24GB), 4 vCPU, 16GB RAM
gpu_server_instance_type = "g5.xlarge"
gpu_server_volume_size   = 200  # GB - for model weights

# Spot Instance Pricing
# On-demand g5.xlarge is ~$1.00/hr, spot is ~$0.30-0.60/hr
gpu_spot_max_price = "0.60"

# =============================================================================
# Backup Configuration
# =============================================================================

# EBS snapshots are taken daily at 5 AM UTC
# Cost: ~$0.05/GB-month for stored snapshots (incremental after first)
backup_retention_days = 7  # Number of days to keep backups

# =============================================================================
# Scaling Options
# =============================================================================
#
# For higher load, consider:
#
# App Server:
# - t3.xlarge  (4 vCPU, 16GB)  - 100-500 concurrent users
# - t3.2xlarge (8 vCPU, 32GB)  - 500-1000 concurrent users
# - m6i.2xlarge (8 vCPU, 32GB) - Production workloads
#
# GPU Server:
# - g5.xlarge  (1 GPU, 24GB VRAM) - 7B-13B models
# - g5.2xlarge (1 GPU, 24GB VRAM) - More CPU/RAM for batching
# - g5.4xlarge (1 GPU, 24GB VRAM) - Heavy embeddings workloads
# - g5.12xlarge (4 GPUs, 96GB VRAM) - 70B models or high throughput
#
# =============================================================================
